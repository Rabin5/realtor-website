{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block content %}
<div id="content-main">
    <div class="dashboard-container">
        <h2>üéõÔ∏è Complete Site Management</h2>
        
        <!-- Property Management Stats -->
        <div class="dashboard-stats">
            <div class="stat-card">
                <h3>Total Properties</h3>
                <p class="stat-number">{{ total_listings }}</p>
                <small>All property sources</small>
            </div>
            <div class="stat-card">
                <h3>Active Listings</h3>
                <p class="stat-number">{{ active_listings }}</p>
                <small>Currently visible</small>
            </div>
            <div class="stat-card">
                <h3>JSON Properties</h3>
                <p class="stat-number">{{ json_properties_count }}</p>
                <small>Available to import</small>
            </div>
        </div>

        <!-- Content Management Stats -->
        <div class="dashboard-stats">
            <div class="stat-card">
                <h3>Hero Sections</h3>
                <p class="stat-number">{{ active_hero_sections }}/{{ hero_sections_count }}</p>
                <small>Active/Total</small>
            </div>
            <div class="stat-card">
                <h3>Testimonials</h3>
                <p class="stat-number">{{ testimonials_count }}</p>
                <small>Customer reviews</small>
            </div>
            <div class="stat-card">
                <h3>FAQs</h3>
                <p class="stat-number">{{ faqs_count }}</p>
                <small>Active questions</small>
            </div>
            <div class="stat-card">
                <h3>Pages</h3>
                <p class="stat-number">{{ pages_count }}</p>
                <small>Managed pages</small>
            </div>
        </div>

        <!-- Quick Action Links -->
        <div class="quick-links-section">
            <h3>üöÄ Quick Content Management</h3>
            <div class="quick-links-grid">
                <!-- Property Management -->
                <div class="link-group">
                    <h4>üè† Property Management</h4>
                    <a href="{% url 'property_admin:listings_listing_changelist' %}" class="action-btn">
                        Manage All Properties
                    </a>
                    <a href="{% url 'property_admin:listings_listing_add' %}" class="action-btn">
                        Add New Property
                    </a>
                    <a href="{% url 'property_admin:json_properties' %}" class="action-btn">
                        Import from JSON
                    </a>
                </div>

                <!-- Content Management -->
                <div class="link-group">
                    <h4>üìù Site Content</h4>
                    <a href="{% url 'property_admin:listings_herosection_changelist' %}" class="action-btn">
                        Hero Sections
                    </a>
                    <a href="{% url 'property_admin:listings_sectioncontent_changelist' %}" class="action-btn">
                        Page Sections
                    </a>
                    <a href="{% url 'property_admin:listings_sitesetting_changelist' %}" class="action-btn">
                        Site Settings
                    </a>
                </div>

                <!-- Media & Pages -->
                <div class="link-group">
                    <h4>üìÑ Pages & Media</h4>
                    <a href="{% url 'property_admin:listings_page_changelist' %}" class="action-btn">
                        Page Contents
                    </a>
                    <a href="{% url 'property_admin:listings_testimonial_changelist' %}" class="action-btn">
                        Testimonials
                    </a>
                    <a href="{% url 'property_admin:listings_faq_changelist' %}" class="action-btn">
                        FAQs
                    </a>
                </div>
            </div>
        </div>
    </div>

    {{ block.super }}
</div>

<style>
.quick-links-section {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin: 20px 0;
}

.quick-links-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 15px;
}

.link-group {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    border-left: 4px solid #059669;
}

.link-group h4 {
    margin: 0 0 10px 0;
    color: #059669;
}

.action-btn {
    display: block;
    background: white;
    padding: 10px 15px;
    margin: 5px 0;
    border-radius: 4px;
    text-decoration: none;
    color: #333;
    border: 1px solid #ddd;
    transition: all 0.3s;
}

.action-btn:hover {
    background: #059669;
    color: white;
    border-color: #059669;
}

.dashboard-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.stat-card {
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    text-align: center;
    border-left: 4px solid #059669;
}

.stat-number {
    font-size: 1.8em;
    font-weight: bold;
    color: #059669;
    margin: 5px 0 0 0;
}
</style>
{% endblock %}